(this["webpackJsonp@akshay/ui"]=this["webpackJsonp@akshay/ui"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(17),r=n(0),o=n.n(r),c=n(11),u=n.n(c),d=n(35),l=n(38),i=n(20),s=n(64),x=n(30),f=n(62),v=n(72),b=n.n(v),p="CREATE_TODO",O="UPDATE_TODO",m="DELETE_TODO",j="MOVE_TODO",E=function(e){var t,n=e._id,a=e.text;return e.todos.concat({_id:(t={_id:n,text:a})._id,text:t.text,checked:!1})},h=function(e){var t=e.todoIndex,n=e.newValue,a=e.todos,r=Object(f.a)(a);return r[t].text=n,r},I=function(e){var t=e.todoIndex,n=e.todos,a=Object(f.a)(n);return a.splice(t,1),a},T=function(e){var t=e.oldIndex,n=e.newIndex,a=e.todos;return b()(a,t,n)},w=function(e,t){var n=t.type,a=t.payload;switch(n){case p:var r=a._id;return E({_id:r,text:"",todos:e});case O:var o=a.todoIndex,c=a.newValue;return h({todoIndex:o,newValue:c,todos:e});case m:var u=a.todoIndex;return I({todoIndex:u,todos:e});case j:var d=a.oldIndex,l=a.newIndex;return T({oldIndex:d,newIndex:l,todos:e});default:return}},_=o.a.createContext(),y=_,g=function(e){var t=e.state,n=void 0===t?[]:t,a=e.children,c=Object(r.useReducer)(w,n),u=Object(x.a)(c,2),d=u[0],l=function(e){return{createTodo:function(t){e({type:p,payload:t})},updateTodo:function(t){e({type:O,payload:t})},deleteTodo:function(t){e({type:m,payload:t})},moveTodo:function(t){e({type:j,payload:t})}}}(u[1]),i=Object(s.a)(Object(s.a)({},l),{},{todos:d});return o.a.createElement(_.Provider,{value:i},a)},k=n(84),C=n(39),$=n(28),D=n(32),A=n.n(D),V=n(46),B=n(138),S=function(e){var t=e.value,n=e.handleTextChange,a=e.onBlur,c=Object(r.useState)(t),u=Object(x.a)(c,2),d=u[0],l=u[1],i=Object(r.useCallback)((function(e){var t=e.target.value;n(t),l(t)}),[l,n]);return o.a.createElement(B.a,{onChange:i,value:d,onBlur:a})},J=n(136),L=n(73),M=n.n(L),P=function(e){var t=e.handleOnClick;return o.a.createElement(J.a,{variant:"contained",color:"secondary",startIcon:o.a.createElement(M.a,null),onClick:function(){t()}},"Add")},R=n(137),U=n(74),q=n.n(U),F=function(e){var t=e.handleOnClick;return o.a.createElement(R.a,{"aria-label":"delete",onClick:t},o.a.createElement(q.a,null))},H=n(45);function N(){var e=Object(a.a)(["\n  list-style: none;\n"]);return N=function(){return e},e}var z=$.a.ul(N()),G=Object(H.a)((function(e){var t=e.children;return o.a.createElement(z,null,t)}));function K(){var e=Object(a.a)(["\n  list-style: none;\n"]);return K=function(){return e},e}var Q=$.a.li(K()),W=Object(H.b)((function(e){var t=e.children;return o.a.createElement(Q,null,t)})),X=n(78),Y=n.n(X);function Z(){var e=Object(a.a)(["\n  cursor: grab;\n"]);return Z=function(){return e},e}var ee=Object($.a)(Y.a)(Z()),te=Object(H.c)((function(){return o.a.createElement(ee,null)}));function ne(){var e=Object(a.a)(["\n  display: flex;\n"]);return ne=function(){return e},e}function ae(){var e=Object(a.a)(["\n  mutation DeleteTodo($_id: ID!) {\n    deleteTodo(_id: $_id)\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(a.a)(["\n  mutation UpdateTodo($_id: ID!, $text: String!) {\n    updateTodo(_id: $_id, text: $text) {\n      _id\n      text\n    }\n  }\n"]);return re=function(){return e},e}var oe=Object(d.b)(re()),ce=Object(d.b)(ae()),ue=$.a.div(ne()),de=function(e){var t=e._id,n=e.todoIndex,a=e.text,c=Object(l.a)(oe),u=Object(x.a)(c,1)[0],d=Object(l.a)(ce),i=Object(x.a)(d,1)[0],s=Object(r.useContext)(y),f=s.updateTodo,v=s.deleteTodo,b=s.todos,p=function(){var e=Object(V.a)(A.a.mark((function e(){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({variables:{_id:t}});case 2:a=e.sent,r=a.data.deleteTodo,console.log({isDeleted:r}),r&&v({todoIndex:n,todos:b});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(V.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({variables:{_id:t,text:a}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(ue,null,o.a.createElement(te,null),o.a.createElement(S,{value:a,handleTextChange:function(e){f({todoIndex:n,newValue:e,todos:b})},onBlur:O}),o.a.createElement(F,{handleOnClick:p}))};function le(){var e=Object(a.a)(["\n  mutation MoveTodo($oldIndex: Int!, $newIndex: Int!) {\n    moveTodo(oldIndex: $oldIndex, newIndex: $newIndex)\n  }\n"]);return le=function(){return e},e}function ie(){var e=Object(a.a)(["\n  mutation AddTodo($text: String) {\n    addTodo(text: $text) {\n      _id\n      text\n    }\n  }\n"]);return ie=function(){return e},e}var se=Object(d.b)(ie()),xe=Object(d.b)(le()),fe=function(){var e=Object(r.useContext)(y),t=e.todos,n=e.moveTodo,a=Object(l.a)(xe),c=Object(x.a)(a,1)[0];return 0===t.length?null:o.a.createElement(G,{useDragHandle:!0,onSortEnd:function(){var e=Object(V.a)(A.a.mark((function e(t){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.oldIndex,r=t.newIndex,e.next=3,c({variables:{oldIndex:a,newIndex:r}});case 3:return e.abrupt("return",n({oldIndex:a,newIndex:r}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},t.map((function(e,t){return o.a.createElement(W,{key:e._id,index:t},o.a.createElement(de,{_id:e._id,todoIndex:t,text:e.text}))})))},ve=function(){var e=Object(r.useContext)(y),t=e.createTodo,n=e.todos,a=Object(l.a)(se),c=Object(x.a)(a,1)[0],u=function(){var e=Object(V.a)(A.a.mark((function e(){var a,r,o,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({variables:{text:""}});case 2:a=e.sent,r=a.data.addTodo,o=r._id,u=r.text,t({_id:o,text:u,todos:n});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(fe,null),o.a.createElement(P,{handleOnClick:u}))};function be(){var e=Object(a.a)(["\n  width: 300px;\n  border: 1px solid grey;\n  border-radius: 10px;\n  box-shadow: 4px 5px 10px -1px rgba(0, 0, 0, 0.24);\n"]);return be=function(){return e},e}var pe=$.a.div(be()),Oe=function(){return o.a.createElement(pe,{className:"AppContainer"},o.a.createElement(ve,null))};function me(){return o.a.createElement(k.a,null,o.a.createElement(C.c,null,o.a.createElement(C.a,{path:"/"},o.a.createElement(Oe,null))))}function je(){var e=Object(a.a)(["\n  {\n    getTodos {\n      _id\n      text\n    }\n  }\n"]);return je=function(){return e},e}var Ee=Object(d.b)(je()),he=new d.a({uri:"https://todo-lean-server.herokuapp.com/graphql"}),Ie=function(){var e=Object(l.b)(Ee),t=e.data,n=e.loading,a=e.error;return n?o.a.createElement("p",null,"Loading..."):a?o.a.createElement("p",null,"Error :("):o.a.createElement(g,{state:t.getTodos},o.a.createElement(me,null))},Te=document.getElementById("root");u.a.render(o.a.createElement(i.a,{client:he},o.a.createElement(Ie,null)),Te)},92:function(e,t,n){e.exports=n(105)}},[[92,1,2]]]);
//# sourceMappingURL=main.e8c44797.chunk.js.map