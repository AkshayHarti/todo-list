(this["webpackJsonp@akshay/ui"]=this["webpackJsonp@akshay/ui"]||[]).push([[0],{104:function(e,n,t){"use strict";t.r(n);var a=t(17),r=t(0),o=t.n(r),c=t(11),u=t.n(c),d=t(35),l=t(38),i=t(20),s=t(64),x=t(30),f=t(62),v=t(72),b=t.n(v),p="CREATE_TODO",O="UPDATE_TODO",m="DELETE_TODO",j="MOVE_TODO",E=function(e){var n,t=e._id,a=e.text;return e.todos.concat({_id:(n={_id:t,text:a})._id,text:n.text,checked:!1})},h=function(e){var n=e.todoIndex,t=e.newValue,a=e.todos,r=Object(f.a)(a);return r[n].text=t,r},I=function(e){var n=e.todoIndex,t=e.todos,a=Object(f.a)(t);return a.splice(n,1),a},T=function(e){var n=e.oldIndex,t=e.newIndex,a=e.todos;return b()(a,n,t)},_=function(e,n){var t=n.type,a=n.payload;switch(t){case p:var r=a._id;return E({_id:r,text:"",todos:e});case O:var o=a.todoIndex,c=a.newValue;return h({todoIndex:o,newValue:c,todos:e});case m:var u=a.todoIndex;return I({todoIndex:u,todos:e});case j:var d=a.oldIndex,l=a.newIndex;return T({oldIndex:d,newIndex:l,todos:e});default:return}},w=o.a.createContext(),y=w,g=function(e){var n=e.state,t=void 0===n?[]:n,a=e.children,c=Object(r.useReducer)(_,t),u=Object(x.a)(c,2),d=u[0],l=function(e){return{createTodo:function(n){e({type:p,payload:n})},updateTodo:function(n){e({type:O,payload:n})},deleteTodo:function(n){e({type:m,payload:n})},moveTodo:function(n){e({type:j,payload:n})}}}(u[1]),i=Object(s.a)(Object(s.a)({},l),{},{todos:d});return o.a.createElement(w.Provider,{value:i},a)},k=t(83),C=t(39),D=t(28),$=t(32),V=t.n($),A=t(46),B=t(137),S=function(e){var n=e.value,t=e.handleTextChange,a=e.onBlur,c=Object(r.useState)(n),u=Object(x.a)(c,2),d=u[0],l=u[1],i=Object(r.useCallback)((function(e){var n=e.target.value;t(n),l(n)}),[l,t]);return o.a.createElement(B.a,{onChange:i,value:d,onBlur:a})},N=t(135),J=t(73),L=t.n(J),M=function(e){var n=e.handleOnClick;return o.a.createElement(N.a,{variant:"contained",color:"secondary",startIcon:o.a.createElement(L.a,null),onClick:function(){n()}},"Add")},P=t(136),R=t(74),U=t.n(R),q=function(e){var n=e.handleOnClick;return o.a.createElement(P.a,{"aria-label":"delete",onClick:n},o.a.createElement(U.a,null))},F=t(45);function H(){var e=Object(a.a)(["\n  list-style: none;\n"]);return H=function(){return e},e}var z=D.a.ul(H()),G=Object(F.a)((function(e){var n=e.children;return o.a.createElement(z,null,n)}));function K(){var e=Object(a.a)(["\n  list-style: none;\n"]);return K=function(){return e},e}var Q=D.a.li(K()),W=Object(F.b)((function(e){var n=e.children;return o.a.createElement(Q,null,n)})),X=t(78),Y=t.n(X);function Z(){var e=Object(a.a)(["\n  cursor: grab;\n"]);return Z=function(){return e},e}var ee=Object(D.a)(Y.a)(Z()),ne=Object(F.c)((function(){return o.a.createElement(ee,null)}));function te(){var e=Object(a.a)(["\n  display: flex;\n"]);return te=function(){return e},e}function ae(){var e=Object(a.a)(["\n  mutation DeleteTodo($_id: ID!) {\n    deleteTodo(_id: $_id)\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(a.a)(["\n  mutation UpdateTodo($_id: ID!, $text: String!) {\n    updateTodo(_id: $_id, text: $text) {\n      _id\n      text\n    }\n  }\n"]);return re=function(){return e},e}var oe=Object(d.b)(re()),ce=Object(d.b)(ae()),ue=D.a.div(te()),de=function(e){var n=e._id,t=e.todoIndex,a=e.text,c=Object(l.a)(oe),u=Object(x.a)(c,1)[0],d=Object(l.a)(ce),i=Object(x.a)(d,1)[0],s=Object(r.useContext)(y),f=s.updateTodo,v=s.deleteTodo,b=s.todos,p=function(){var e=Object(A.a)(V.a.mark((function e(){var a,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({variables:{_id:n}});case 2:a=e.sent,r=a.data.deleteTodo,console.log({isDeleted:r}),r&&v({todoIndex:t,todos:b});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(A.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({variables:{_id:n,text:a}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(ue,null,o.a.createElement(ne,null),o.a.createElement(S,{value:a,handleTextChange:function(e){f({todoIndex:t,newValue:e,todos:b})},onBlur:O}),o.a.createElement(q,{handleOnClick:p}))};function le(){var e=Object(a.a)(["\n  mutation MoveTodo($oldIndex: Int!, $newIndex: Int!) {\n    moveTodo(oldIndex: $oldIndex, newIndex: $newIndex)\n  }\n"]);return le=function(){return e},e}function ie(){var e=Object(a.a)(["\n  mutation AddTodo($text: String) {\n    addTodo(text: $text) {\n      _id\n      text\n    }\n  }\n"]);return ie=function(){return e},e}var se=Object(d.b)(ie()),xe=Object(d.b)(le()),fe=function(){var e=Object(r.useContext)(y),n=e.todos,t=e.moveTodo,a=Object(l.a)(xe),c=Object(x.a)(a,1)[0];return 0===n.length?null:o.a.createElement(G,{useDragHandle:!0,onSortEnd:function(){var e=Object(A.a)(V.a.mark((function e(n){var a,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.oldIndex,r=n.newIndex,e.next=3,c({variables:{oldIndex:a,newIndex:r}});case 3:return e.abrupt("return",t({oldIndex:a,newIndex:r}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},n.map((function(e,n){return o.a.createElement(W,{key:e._id,index:n},o.a.createElement(de,{_id:e._id,todoIndex:n,text:e.text}))})))},ve=function(){var e=Object(r.useContext)(y),n=e.createTodo,t=e.todos,a=Object(l.a)(se),c=Object(x.a)(a,1)[0],u=function(){var e=Object(A.a)(V.a.mark((function e(){var a,r,o,u;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({variables:{text:""}});case 2:a=e.sent,r=a.data.addTodo,o=r._id,u=r.text,n({_id:o,text:u,todos:t});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(fe,null),o.a.createElement(M,{handleOnClick:u}))};function be(){var e=Object(a.a)(["\n  width: 300px;\n  border: 1px solid grey;\n  border-radius: 10px;\n  box-shadow: 4px 5px 10px -1px rgba(0, 0, 0, 0.24);\n"]);return be=function(){return e},e}var pe=D.a.div(be()),Oe=function(){return o.a.createElement(pe,{className:"AppContainer"},o.a.createElement(ve,null))};function me(){return o.a.createElement(k.a,null,o.a.createElement(C.c,null,o.a.createElement(C.a,{path:"/"},o.a.createElement(Oe,null))))}function je(){var e=Object(a.a)(["\n  {\n    getTodos {\n      _id\n      text\n    }\n  }\n"]);return je=function(){return e},e}var Ee=Object(d.b)(je());console.log("process.env.NODE_ENV = ","production");var he=new d.a({uri:"https://todo-lean.herokuapp.com/graphql"}),Ie=function(){var e=Object(l.b)(Ee),n=e.data,t=e.loading,a=e.error;return t?o.a.createElement("p",null,"Loading..."):a?o.a.createElement("p",null,"Error :("):o.a.createElement(g,{state:n.getTodos},o.a.createElement(me,null))},Te=document.getElementById("root");u.a.render(o.a.createElement(i.a,{client:he},o.a.createElement(Ie,null)),Te)},91:function(e,n,t){e.exports=t(104)}},[[91,1,2]]]);
//# sourceMappingURL=main.3e25d7cf.chunk.js.map